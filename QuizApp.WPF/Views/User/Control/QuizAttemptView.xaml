<UserControl x:Class="QuizApp.WPF.Views.User.QuizAttemptView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="600" Width="800">

	<Grid Margin="20">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Header -->
		<StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,20">
			<TextBlock Text="{Binding Quiz.Title}" FontSize="24" FontWeight="Bold"/>
			<TextBlock Text="   Time Remaining: " FontSize="16" VerticalAlignment="Center"/>
			<TextBlock Text="{Binding RemainingTimeFormatted}" FontSize="16" FontWeight="SemiBold" Foreground="Red" VerticalAlignment="Center"/>
		</StackPanel>

		<!-- Question Section -->
		<StackPanel Grid.Row="1">
			<TextBlock Text="{Binding CurrentQuestion.Text}" FontSize="18" FontWeight="SemiBold" TextWrapping="Wrap" Margin="0,0,0,10"/>
			<ItemsControl ItemsSource="{Binding CurrentQuestion.Options}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<RadioButton Content="{Binding Text}"
                                     GroupName="OptionsGroup"
                                     Command="{Binding DataContext.SelectOptionCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                     CommandParameter="{Binding Id}"/>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
		</StackPanel>

		<!-- Navigation & Submit -->
		<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
			<Button Content="Previous" Command="{Binding PreviousQuestionCommand}" Width="120" Margin="0,0,10,0"/>
			<Button Content="Next" Command="{Binding NextQuestionCommand}" Width="120" Margin="0,0,10,0"/>
			<Button Content="Submit" Command="{Binding SubmitCommand}" Width="120" Background="Green" Foreground="White"/>
		</StackPanel>
	</Grid>
</UserControl>
