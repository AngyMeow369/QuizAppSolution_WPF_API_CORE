<Window x:Class="QuizApp.WPF.Views.Admin.AddCategoryView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Create New Category"
        Height="400"
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F8FAFC"
        FontFamily="Segoe UI"
        SizeToContent="WidthAndHeight">
	<!-- Remove this if it causes issues -->

	<Window.Resources>
		<!-- Modern Button Styles -->
		<Style x:Key="PrimaryButton" TargetType="Button">
			<Setter Property="Background" Value="#2563EB"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="20,12"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="border" Property="Background" Value="#1D4ED8"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<Style x:Key="SecondaryButton" TargetType="Button">
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="#6B7280"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="BorderBrush" Value="#E5E7EB"/>
			<Setter Property="Padding" Value="20,12"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="border" Property="Background" Value="#F9FAFB"/>
								<Setter TargetName="border" Property="BorderBrush" Value="#D1D5DB"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</Window.Resources>

	<!-- Main Container with proper sizing -->
	<Border Background="White"
            CornerRadius="12"
            Margin="30"
            Width="440"
            Height="340">
		<Border.Effect>
			<DropShadowEffect Color="#000000" ShadowDepth="0" Opacity="0.1" BlurRadius="20"/>
		</Border.Effect>

		<Grid Margin="25">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- Header with Icon -->
			<StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
				<Border Width="40"
                        Height="40"
                        Background="#DBEAFE"
                        CornerRadius="10"
                        VerticalAlignment="Center">
					<TextBlock Text="📚"
                               FontSize="16"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
				</Border>
				<StackPanel Margin="15,0,0,0" VerticalAlignment="Center">
					<TextBlock Text="Create New Category"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="#1F2937"/>
					<TextBlock Text="Add a new category to organize your questions"
                               FontSize="13"
                               Foreground="#6B7280"
                               Margin="0,4,0,0"/>
				</StackPanel>
			</StackPanel>

			<!-- Form - Centered and properly sized -->
			<StackPanel Grid.Row="1" VerticalAlignment="Center" Margin="0,0,0,20">
				<TextBlock Text="Category Name"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Foreground="#374151"
                           Margin="0,0,0,10"/>

				<!-- Visible TextBox with proper sizing -->
				<Border BorderBrush="#E5E7EB"
                        BorderThickness="1"
                        CornerRadius="6"
                        Background="White"
                        Height="50"
                        Width="350">
					<TextBox x:Name="CategoryNameTextBox"
                             Background="Transparent"
                             BorderThickness="0"
                             Padding="15"
                             FontSize="14"
                             VerticalContentAlignment="Center"
                             Foreground="#1F2937"
                             HorizontalAlignment="Stretch"/>
				</Border>

				<!-- Character Counter -->
				<TextBlock Text="{Binding Text.Length, ElementName=CategoryNameTextBox, StringFormat={}{0}/50}"
                           FontSize="11"
                           Foreground="#9CA3AF"
                           HorizontalAlignment="Right"
                           Margin="0,5,0,0"
                           Width="350"/>
			</StackPanel>

			<!-- Buttons -->
			<StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center">
				<Button Content="Cancel"
                        Style="{StaticResource SecondaryButton}"
                        Click="CancelButton_Click"
                        Margin="0,0,10,0"/>
				<Button Content="Create Category"
                        Style="{StaticResource PrimaryButton}"
                        Click="SaveButton_Click"/>
			</StackPanel>
		</Grid>
	</Border>
</Window>