<UserControl x:Class="QuizApp.WPF.Views.Admin.ManageQuizzesView"
          xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
          xmlns:admin="clr-namespace:QuizApp.WPF.Views.Admin"
          Background="#F8FAFC"
          FontFamily="Segoe UI">

	<UserControl.Resources>
		<BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
	</UserControl.Resources>

	<Grid Margin="20">
		<!-- Main content -->
		<Grid x:Name="MainGrid">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<!-- Header -->
			<DockPanel Grid.Row="0" Margin="0,0,0,15">
				<TextBlock Text="Manage Quizzes"
						   FontSize="24"
						   FontWeight="SemiBold"
						   Foreground="#1F2937"
						   VerticalAlignment="Center"
						   DockPanel.Dock="Left"/>
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Right" DockPanel.Dock="Right">
					<Button Content="➕ Add Quiz" Command="{Binding ShowAddQuestionCommand}" Margin="10,0"/>
					<Button Content="✏️ Edit" Command="{Binding EditQuizCommand}" Margin="10,0"/>
					<Button Content="🗑 Delete" Command="{Binding DeleteQuizCommand}" Margin="10,0"/>
					<Button Content="📋 Assign" Command="{Binding AssignQuizCommand}" Margin="10,0"/>
					<Button Content="➕ Add Category" Command="{Binding ShowAddCategoryCommand}" Margin="10,0"/>
				</StackPanel>
			</DockPanel>

			<!-- DataGrid -->
			<DataGrid Grid.Row="1"
					  ItemsSource="{Binding Quizzes}"
					  SelectedItem="{Binding SelectedQuiz, Mode=TwoWay}"
					  AutoGenerateColumns="False"
					  CanUserAddRows="False"
					  CanUserDeleteRows="False"
					  IsReadOnly="True"
					  RowHeight="40">
				<DataGrid.Columns>
					<DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="80"/>
					<DataGridTextColumn Header="Title" Binding="{Binding Title}" Width="*"/>
					<DataGridTextColumn Header="Category" Binding="{Binding Category.Name}" Width="150"/>
				</DataGrid.Columns>
			</DataGrid>
		</Grid>

		<!-- Single overlay container -->
		<Grid Visibility="{Binding IsOverlayVisible, Converter={StaticResource BooleanToVisibilityConverter}}">
			<Border Background="#80000000"
					HorizontalAlignment="Stretch"
					VerticalAlignment="Stretch"/>

			<ContentControl Content="{Binding CurrentOverlay}"
							HorizontalAlignment="Center"
							VerticalAlignment="Center"/>
		</Grid>
	</Grid>
	

</UserControl>
