<Window x:Class="QuizApp.WPF.Views.Admin.QuizDialog"
     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
     xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
     Title="Quiz" Height="550" Width="450"
     WindowStartupLocation="CenterOwner"
     ResizeMode="NoResize"
     Background="#F5F6FA">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Quiz Title -->
        <TextBlock Text="Title:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" FontWeight="SemiBold"/>
        <TextBox Text="{Binding Quiz.Title, UpdateSourceTrigger=PropertyChanged}" Grid.Row="0" Grid.Column="1" Margin="0,5,0,15" Padding="6" FontSize="14"/>

        <!-- Category -->
        <TextBlock Text="Category:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" FontWeight="SemiBold"/>
        <ComboBox Grid.Row="1" Grid.Column="1"
              ItemsSource="{Binding Categories}"
              DisplayMemberPath="Name"
              SelectedValuePath="Id"
              SelectedValue="{Binding Quiz.CategoryId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
              Margin="0,5,0,15" Padding="6" FontSize="14"/>

        <!-- Start Date & Time -->
        <TextBlock Text="Start Time:" Grid.Row="2" Grid.Column="0" VerticalAlignment="Top" FontWeight="SemiBold"/>
        <StackPanel Grid.Row="2" Grid.Column="1" Margin="0,5,0,15">
            <xctk:DateTimePicker Value="{Binding Quiz.StartTime, Mode=TwoWay}" Format="Custom" FormatString="dd/MM/yyyy HH:mm" Width="200" Padding="5"/>
            <StackPanel Orientation="Horizontal" Margin="0,5,0,0" HorizontalAlignment="Left">
                <Button Content="Today" Command="{Binding SetStartTimeTodayCommand}" Margin="0,0,10,0" Padding="4,2" Background="#FF2196F3" Foreground="White" BorderBrush="#FF1976D2" BorderThickness="1"/>
                <Button Content="Yesterday" Command="{Binding SetStartTimeYesterdayCommand}" Padding="4,2" Background="#FF90CAF9" Foreground="Black" BorderBrush="#FF64B5F6" BorderThickness="1"/>
            </StackPanel>
        </StackPanel>

        <!-- End Date & Time -->
        <TextBlock Text="End Time:" Grid.Row="3" Grid.Column="0" VerticalAlignment="Top" FontWeight="SemiBold"/>
        <StackPanel Grid.Row="3" Grid.Column="1" Margin="0,5,0,15">
            <xctk:DateTimePicker Value="{Binding Quiz.EndTime, Mode=TwoWay}" Format="Custom" FormatString="dd/MM/yyyy HH:mm" Width="200" Padding="5"/>
            <StackPanel Orientation="Horizontal" Margin="0,5,0,0" HorizontalAlignment="Left">
                <Button Content="Today" Command="{Binding SetEndTimeTodayCommand}" Margin="0,0,10,0" Padding="4,2" Background="#FF4CAF50" Foreground="White" BorderBrush="#FF388E3C" BorderThickness="1"/>
                <Button Content="Yesterday" Command="{Binding SetEndTimeYesterdayCommand}" Padding="4,2" Background="#FFA5D6A7" Foreground="Black" BorderBrush="#FF81C784" BorderThickness="1"/>
            </StackPanel>
        </StackPanel>

        <!-- Questions Selection -->
        <TextBlock Text="Questions:" Grid.Row="4" Grid.Column="0" VerticalAlignment="Top" FontWeight="SemiBold" Margin="0,0,5,0"/>
        <ListBox Grid.Row="4" Grid.Column="1" ItemsSource="{Binding SelectedQuestions}" DisplayMemberPath="Text" SelectionMode="Extended" Height="150" Margin="0,5,0,15"/>

        <!-- Buttons -->
        <StackPanel Grid.Row="5" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Save" Width="90" Margin="0,0,10,0" Command="{Binding SaveCommand}" Padding="6" Background="#FF2196F3" Foreground="White" BorderBrush="#FF1976D2" BorderThickness="1"/>
            <Button Content="Cancel" Width="90" Command="{Binding CancelCommand}" Padding="6" Background="#FFE0E0E0" Foreground="Black" BorderBrush="#FFBDBDBD" BorderThickness="1"/>
        </StackPanel>
    </Grid>
    

</Window>
